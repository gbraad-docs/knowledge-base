
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>Keystone Â· GitBook</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.0">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="puppet.html" />
    
    
    <link rel="prev" href="fuel.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">Categories</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Technology</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../unsorted/android.html">
            
                <a href="../unsorted/android.html">
            
                    
                    Android
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../unsorted/ansible.html">
            
                <a href="../unsorted/ansible.html">
            
                    
                    Ansible
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../unsorted/arm.html">
            
                <a href="../unsorted/arm.html">
            
                    
                    ARM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../unsorted/atomic.html">
            
                <a href="../unsorted/atomic.html">
            
                    
                    Atomic
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../unsorted/c9ide.html">
            
                <a href="../unsorted/c9ide.html">
            
                    
                    C9 IDE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../unsorted/ceph.html">
            
                <a href="../unsorted/ceph.html">
            
                    
                    Ceph
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../unsorted/cokcpit.md">
            
                <span>
            
                    
                    Cockpit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="../unsorted/cloudfoundry.html">
            
                <a href="../unsorted/cloudfoundry.html">
            
                    
                    Cloud Foundry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="../unsorted/cloudinit.html">
            
                <a href="../unsorted/cloudinit.html">
            
                    
                    cloud-init
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="../unsorted/containers.html">
            
                <a href="../unsorted/containers.html">
            
                    
                    containers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.10.1" data-path="../unsorted/docker.html">
            
                <a href="../unsorted/docker.html">
            
                    
                    Docker
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.11" data-path="../unsorted/flatpak.html">
            
                <a href="../unsorted/flatpak.html">
            
                    
                    Flatpak
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.12" data-path="../git/">
            
                <a href="../git/">
            
                    
                    Git
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.12.1" data-path="../git/github.html">
            
                <a href="../git/github.html">
            
                    
                    GitHub
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.12.2" data-path="../git/gitlab.html">
            
                <a href="../git/gitlab.html">
            
                    
                    GitLab
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.13" data-path="../kubernetes/">
            
                <a href="../kubernetes/">
            
                    
                    Kubernetes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14" data-path="../unsorted/linux.html">
            
                <a href="../unsorted/linux.html">
            
                    
                    Linux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.15" data-path="../unsorted/manageiq.html">
            
                <a href="../unsorted/manageiq.html">
            
                    
                    ManageIQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.16" data-path="../unsorted/openedx.html">
            
                <a href="../unsorted/openedx.html">
            
                    
                    Open edX
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.17" data-path="../openshift/">
            
                <a href="../openshift/">
            
                    
                    OpenShift
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.17.1" data-path="../openshift/minishift.html">
            
                <a href="../openshift/minishift.html">
            
                    
                    minishift
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.18" data-path="../unsorted/ostree.html">
            
                <a href="../unsorted/ostree.html">
            
                    
                    ostree
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.19" data-path="../unsorted/photonos.html">
            
                <a href="../unsorted/photonos.html">
            
                    
                    Photon OS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.20" data-path="../python/">
            
                <a href="../python/">
            
                    
                    Python
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.20.1" data-path="../python/syntax.html">
            
                <a href="../python/syntax.html">
            
                    
                    Syntax
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.20.2" data-path="../python/django.html">
            
                <a href="../python/django.html">
            
                    
                    Django
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.21" data-path="../unsorted/raspi.html">
            
                <a href="../unsorted/raspi.html">
            
                    
                    Raspberry Pi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.22" data-path="../unsorted/riscv.html">
            
                <a href="../unsorted/riscv.html">
            
                    
                    RISC-V
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.23" data-path="../unsorted/rsync.html">
            
                <a href="../unsorted/rsync.html">
            
                    
                    rsync
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.24" data-path="../unsorted/sed.html">
            
                <a href="../unsorted/sed.html">
            
                    
                    sed
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.25" data-path="../unsorted/shell.html">
            
                <a href="../unsorted/shell.html">
            
                    
                    shell scripting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.26" data-path="../unsorted/install.html">
            
                <a href="../unsorted/install.html">
            
                    
                    Software installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.27" data-path="../unsorted/virsh.html">
            
                <a href="../unsorted/virsh.html">
            
                    
                    Libvirt/virsh
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.28" data-path="../unsorted/windows.html">
            
                <a href="../unsorted/windows.html">
            
                    
                    Windows
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Network</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../unsorted/nginx.html">
            
                <a href="../unsorted/nginx.html">
            
                    
                    nginx
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../unsorted/tcpdump.html">
            
                <a href="../unsorted/tcpdump.html">
            
                    
                    tcpdump
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../unsorted/traefik.html">
            
                <a href="../unsorted/traefik.html">
            
                    
                    traefik
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">OpenStack</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="./">
            
                <a href="./">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="tripleo.html">
            
                <a href="tripleo.html">
            
                    
                    TripleO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="client.html">
            
                <a href="client.html">
            
                    
                    Client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="devstack.html">
            
                <a href="devstack.html">
            
                    
                    Devstack
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="fuel.html">
            
                <a href="fuel.html">
            
                    
                    Fuel
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="4.6" data-path="keystone.html">
            
                <a href="keystone.html">
            
                    
                    Keystone
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="puppet.html">
            
                <a href="puppet.html">
            
                    
                    Puppet
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="rdo.html">
            
                <a href="rdo.html">
            
                    
                    RDO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.9" data-path="packstack.html">
            
                <a href="packstack.html">
            
                    
                    PackStack
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Various</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../../various/persuasion.html">
            
                <a href="../../various/persuasion.html">
            
                    
                    Persuasion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../../various/quotes.html">
            
                <a href="../../various/quotes.html">
            
                    
                    Quotes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../../various/todo.html">
            
                <a href="../../various/todo.html">
            
                    
                    Todo
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Books</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../../books/">
            
                <a href="../../books/">
            
                    
                    Overview
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.1" data-path="../../books/chess-not-checkers.html">
            
                <a href="../../books/chess-not-checkers.html">
            
                    
                    Chess Not Checkers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.2" data-path="../../books/lets-stop-meeting-like-this.html">
            
                <a href="../../books/lets-stop-meeting-like-this.html">
            
                    
                    Let's stop meeting like this
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Language</li>
        
        
    

    
        
        <li class="header">Chinese</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../../language/chinese/technology.html">
            
                <a href="../../language/chinese/technology.html">
            
                    
                    Technology
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">English</li>
        
        
    
        <li class="chapter " data-level="9.1" data-path="../../language/english/">
            
                <a href="../../language/english/">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Other documentation</li>
        
        
    
        <li class="chapter " data-level="10.1" >
            
                <a target="_blank" href="https://github.com/gbraad/openstack-handsonlabs">
            
                    
                    Hands-on-labs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.2" >
            
                <a target="_blank" href="https://github.com/gbraad/tools-training">
            
                    
                    Tools training
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.3" >
            
                <a target="_blank" href="https://github.com/gbraad/open-source-culture">
            
                    
                    Open Source Culture
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Keystone</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="openstack-keystone">OpenStack Keystone</h1><h2 id="development">Development</h2><ul><li><a href="https://ide.c9.io/gbraad/openstack-keystone#openfile-README.md" target="_blank">https://ide.c9.io/gbraad/openstack-keystone#openfile-README.md</a>
</li></ul>
<h2 id="container">Container</h2><ul><li><a href="https://gitlab.com/gbraad/openstack-keystone" target="_blank">https://gitlab.com/gbraad/openstack-keystone</a>
</li>
<li><a href="https://github.com/gbraad/docker-openstack-keystone" target="_blank">https://github.com/gbraad/docker-openstack-keystone</a>
</li>
<li><a href="https://hub.docker.com/r/gbraad/openstack-keystone" target="_blank">https://hub.docker.com/r/gbraad/openstack-keystone</a>
</li></ul>
<h2 id="keystone-development-environment">Keystone development environment</h2><h3 id="requirements">Requirements</h3><h4 id="distribution-packages">Distribution packages</h4><pre><code>$ apt-get update
$ apt-get install -y mariadb-server mariadb-client
$ apt-get install -y python-pip python-virtualenv
$ apt-get install -y python-dev python3-dev libxml2-dev libxslt1-dev libsasl2-dev libsqlite3-dev libmysqlclient-dev libssl-dev libldap2-dev libffi-dev</code></pre>
<h4 id="python-packages">Python packages</h4><pre><code>$ pip install -U pip
$ pip install -U pyopenssl ndg-httpsclient pyasn1
$ pip install repoze.lru pbr mysql-python
$ pip install python-keystoneclient python-openstackclient
$ pip install uwsgi</code></pre>
<h3 id="setup-database">Setup database</h3><pre><code>$ service mysql start</code></pre>
<pre><code>$ mysql  -u root -ppass -e &quot;create database keystone;&quot;
$ mysql  -u root -ppass -e &quot;GRANT ALL PRIVILEGES ON keystone.* TO &apos;keystone&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;keystone&apos;;&quot;
$ mysql  -u root -ppass -e &quot;GRANT ALL PRIVILEGES ON keystone.* TO &apos;keystone&apos;@&apos;%&apos; IDENTIFIED BY &apos;keystone&apos;;&quot;</code></pre>
<h3 id="setup-keystone-for-development">Setup keystone for development</h3><h4 id="getting-the-source">Getting the source</h4><pre><code>$ git clone https://github.com/openstack/keystone.git -b stable/mitaka</code></pre>
<h4 id="choose-setup-development-environment-in-virtualenv">Choose: Setup development environment in <code>virtualenv</code></h4><pre><code>$ tox -e venv --notest
$ source .tox/venv/bin/activate
$ pip install MySQL</code></pre>
<h4 id="or-setup-development-outside-virtualenv">or: Setup development outside <code>virtualenv</code></h4><pre><code>$ pip install -r requirements.txt
$ pip install -r test-requirements.txt
$ python setup.py develop</code></pre>
<h3 id="verify-installation">Verify installation</h3><pre><code>$ python -c &quot;import keystone&quot;</code></pre>
<h3 id="configuration">Configuration</h3><pre><code>$ export TOKEN=$(openssl rand -hex 10)
$ cp etc/keystone.conf.sample etc/keystone.conf
$ sed -i &quot;s|database]|database]\nconnection = mysql://keystone:keystone@localhost/keystone|g&quot; etc/keystone.conf
$ sed -i &apos;s/#admin_token = ADMIN/admin_token = $TOKEN/g&apos; etc/keystone.conf</code></pre>
<pre><code>$ keystone-manage db_sync</code></pre>
<h3 id="run-keystone">Run Keystone</h3><pre><code>$ sudo -u keystone /usr/local/bin/keystone-all --config-file=/etc/keystone/keystone.conf  --log-file=/var/log/keystone/keystone.log</code></pre>
<h3 id="create-service-entry">Create service entry</h3><pre><code>$ keystone --os-token $TOKEN --os-endpoint http://localhost:35357/v2.0/ service-create --name=keystone --type=identity --description=&quot;Keystone Identity Service&quot;
$ keystone --os-token $TOKEN --os-endpoint http://localhost:35357/v2.0/ endpoint-create --service keystone --publicurl &apos;http://localhost:5000/v2.0&apos; --adminurl &apos;http://localhost:35357/v2.0&apos; --internalurl &apos;http://localhost:5000/v2.0&apos;</code></pre>
<h3 id="create-admin-user">Create admin user</h3><pre><code>$ keystone --os-token $TOKEN --os-endpoint http://localhost:35357/v2.0/ user-create --name admin --pass password
$ keystone --os-token $TOKEN --os-endpoint http://localhost:35357/v2.0/ role-create --name admin
$ keystone --os-token $TOKEN --os-endpoint http://localhost:35357/v2.0/ tenant-create --name admin
$ keystone --os-token $TOKEN --os-endpoint http://localhost:35357/v2.0/ user-role-add --user admin --role admin --tenant admin</code></pre>
<h2 id="setup-keystone-for-use">Setup keystone for use</h2><p>Same as above until &apos;Getting the source&apos;</p><h3 id="create-directories">Create directories</h3><pre><code>$ useradd --home-dir &quot;/var/lib/keystone&quot; --create-home --system --shell /bin/false keystone
$ mkdir -p /var/log/keystone
$ mkdir -p /etc/keystone
$ chown -R keystone:keystone /var/log/keystone
$ chown -R keystone:keystone /var/lib/keystone
$ chown keystone:keystone /etc/keystone</code></pre>
<h3 id="configuration">Configuration</h3><pre><code>$ cd keystone</code></pre>
<pre><code>$ cp -R etc/* /etc/keystone/
$ mv  /etc/keystone/keystone.conf.sample /etc/keystone/keystone.conf
$ sed -i &quot;s|database]|database]\nconnection = mysql://keystone:keystone@localhost/keystone|g&quot; /etc/keystone/keystone.conf
$ sed -i &apos;s/#admin_token = ADMIN/admin_token = SuperSecreteKeystoneToken/g&apos; /etc/keystone/keystone.conf</code></pre>
<h3 id="install">Install</h3><pre><code>$ python setup.py install
$ keystone-manage db_sync</code></pre>
<pre><code>$ cat &gt;&gt; /etc/logrotate.d/keystone &lt;&lt; EOF
/var/log/keystone/*.log {
    daily
    missingok
    rotate 7
    compress
    notifempty
    nocreate
}
EOF</code></pre>
<h3 id="run-keystone">Run Keystone</h3><pre><code>$ sudo -u keystone /usr/local/bin/keystone-all --config-file=/etc/keystone/keystone.conf  --log-file=/var/log/keystone/keystone.log</code></pre>
<h2 id="verify-keystone-using-curl">Verify Keystone using <code>cURL</code></h2><ul><li><a href="http://docs.openstack.org/developer/keystone/api_curl_examples.html" target="_blank">http://docs.openstack.org/developer/keystone/api_curl_examples.html</a>
</li></ul>
<pre><code>export PRETTYJSON=&quot;python -mjson.tool&quot; # or use &quot;jq .&quot;
$ curl -s -d &apos;{&quot;auth&quot;:{&quot;passwordCredentials&quot;:{&quot;username&quot;: &quot;admin&quot;, &quot;password&quot;: &quot;password&quot;},&quot;tenantName&quot;: &quot;admin&quot;}}&apos; -H &quot;Content-Type: application/json&quot; http://localhost:5000/v2.0/tokens | $PRETTYJSON</code></pre>
<pre><code>{
  &quot;access&quot;: {
    &quot;metadata&quot;: {
      &quot;roles&quot;: [
        &quot;1180e62cfaff4d288f26730d0c613b78&quot;
      ],
      &quot;is_admin&quot;: 0
    },
    &quot;user&quot;: {
      &quot;name&quot;: &quot;admin&quot;,
      &quot;roles&quot;: [
        {
          &quot;name&quot;: &quot;admin&quot;
        }
      ],
      &quot;id&quot;: &quot;497e17c64d6b4d10a07dc3d61e75170b&quot;,
      &quot;roles_links&quot;: [],
      &quot;username&quot;: &quot;admin&quot;
    },
    &quot;serviceCatalog&quot;: [
      {
        &quot;name&quot;: &quot;keystone&quot;,
        &quot;type&quot;: &quot;identity&quot;,
        &quot;endpoints_links&quot;: [],
        &quot;endpoints&quot;: [
          {
            &quot;publicURL&quot;: &quot;http://localhost:5000/v2.0&quot;,
            &quot;id&quot;: &quot;184cfc47a8f84e4e9a49ef621f67a18e&quot;,
            &quot;internalURL&quot;: &quot;http://localhost:5000/v2.0&quot;,
            &quot;region&quot;: &quot;regionOne&quot;,
            &quot;adminURL&quot;: &quot;http://localhost:35357/v2.0&quot;
          }
        ]
      }
    ],
    &quot;token&quot;: {
      &quot;audit_ids&quot;: [
        &quot;6EKt-yI7Rmu1glQKA9GhpA&quot;
      ],
      &quot;tenant&quot;: {
        &quot;name&quot;: &quot;admin&quot;,
        &quot;id&quot;: &quot;fd45db445d1a47e38d41d38c12cdbf43&quot;,
        &quot;enabled&quot;: true,
        &quot;description&quot;: null
      },
      &quot;id&quot;: &quot;627a40ea7cbb4a93bc3f0e9d2df607b0&quot;,
      &quot;expires&quot;: &quot;2016-09-19T10:14:40Z&quot;,
      &quot;issued_at&quot;: &quot;2016-09-19T09:14:40.345707Z&quot;
    }
  }
}</code></pre>
<h2 id="get-token-using-curl">Get token using <code>cURL</code></h2><p>To continue this:</p><pre><code>$ curl -i -H &quot;Content-Type: application/json&quot; -d &apos;
{ &quot;auth&quot;: {
    &quot;identity&quot;: {
      &quot;methods&quot;: [&quot;password&quot;],
      &quot;password&quot;: {
        &quot;user&quot;: {
          &quot;name&quot;: &quot;admin&quot;,
          &quot;domain&quot;: { &quot;name&quot;: &quot;Default&quot; },
          &quot;password&quot;: &quot;password&quot;
        }
      }
    },
    &quot;scope&quot;: {
      &quot;project&quot;: {
        &quot;name&quot;: &quot;admin&quot;,
        &quot;domain&quot;: { &quot;name&quot;: &quot;Default&quot; }
      }
    }
  }
}&apos; http://172.17.0.6:5000/v3/auth/tokens</code></pre>
<p>A response will follow. You need to set the value of <code>X-Subject-Token</code> to
<code>OS_TOKEN</code>.</p><pre><code>$ OS_TOKEN=8d4079e745064b578470d87c816119e2</code></pre>
<p>To list users:</p><pre><code>
$ curl -s -H &quot;X-Auth-Token: $OS_TOKEN&quot; http://localhost:5000/v3/users | PRETTYJSON</code></pre>
<h2 id="use-python-openstackclient">Use <code>python-openstackclient</code></h2><pre><code>export OS_TOKEN=secrete
$ openstack --os-token $OS_TOKEN --os-url http://localhost:35357/v2.0/ user list</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="fuel.html" class="navigation navigation-prev " aria-label="Previous page: Fuel">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="puppet.html" class="navigation navigation-next " aria-label="Next page: Puppet">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Keystone","level":"4.6","depth":1,"next":{"title":"Puppet","level":"4.7","depth":1,"path":"technology/openstack/puppet.md","ref":"technology/openstack/puppet.md","articles":[]},"previous":{"title":"Fuel","level":"4.5","depth":1,"path":"technology/openstack/fuel.md","ref":"technology/openstack/fuel.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"technology/openstack/keystone.md","mtime":"2020-05-05T07:59:52.000Z","type":"markdown"},"gitbook":{"version":"3.2.0","time":"2020-05-05T07:59:57.455Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

